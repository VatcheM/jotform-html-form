<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jotform Iframe Embed with Google Places API</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgUHLrsI_HtK2X2mMFGgb11zcne9g4K30&libraries=places&callback=initAutocomplete" async defer></script>
    <style>
        /* Remove unnecessary background and padding from the iframe container */
        .form-container {
            width: 100%;
            max-width: 100%; /* Allow iframe to use the entire width */
            height: 100%; /* Ensure it expands vertically */
            margin: auto;
            padding: 0; /* Remove extra padding */
            overflow: hidden; /* Prevent scrollbars */
        }

        /* Direct iframe styling: Ensure iframe size is set correctly */
        iframe {
            width: 100%; /* Use full width of the container */
            height: 1000px; /* Set a fixed height (adjust as needed) */
            border: none; /* Remove border around the iframe */
        }

        /* Styling for address field to work with Google Places API */
        .address-field {
            font-size: 14px;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            width: 100%;
        }
    </style>
</head>
<body>

<!-- This is the iframe container where the form will be embedded -->
<div class="form-container">
    <!-- Embed the iframe here -->
    <iframe id="myIframe" src="https://vatchem.github.io/jotform-html-form/contact_form.html" frameborder="0" loading="eager"></iframe>
</div>

<script>
    // Function to initialize Google Places API autocomplete
    function initAutocomplete() {
        const addressField = document.querySelector('.address-field'); // Adjust selector to target your address field
        const autocomplete = new google.maps.places.Autocomplete(addressField);

        // Restrict autocomplete results to addresses
        autocomplete.setTypes(['geocode']);

        // Event listener for when a user selects an address
        autocomplete.addListener('place_changed', function () {
            const place = autocomplete.getPlace();
            if (!place.geometry) {
                return;
            }
            // Handle the selected place (optional)
        });
    }

    // Force iframe reload if necessary when the form card is clicked
    document.addEventListener('DOMContentLoaded', function() {
        const iframe = document.querySelector('#myIframe');  // Target the iframe
        const formCard = document.querySelector('.iframe-card');  // If you have a specific class for the card

        // Reload iframe on card click (if needed)
        if (formCard) {
            formCard.addEventListener('click', function() {
                iframe.src = iframe.src;  // Force iframe reload
            });
        }
    });
</script>

</body>
</html>
